<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Vectore - Checkout y Pago">
    <title>Checkout | Vectore</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="admin.css">
</head>

<body>
    <div class="checkout-page">
        <div class="checkout-container">
            <!-- Header -->
            <div class="checkout-header">
                <a href="index.html" class="logo">
                    <span class="logo-icon">âœ¦</span>
                    Vectore
                </a>
                <h1>Finalizar Compra</h1>
            </div>

            <div class="checkout-grid">
                <!-- Order Summary -->
                <div class="checkout-main">
                    <div class="checkout-summary">
                        <h2>ðŸ“‹ Resumen de tu Pedido</h2>
                        <div id="orderItems">
                            <!-- Items will be loaded dynamically -->
                        </div>
                        <div class="summary-item total">
                            <span>Total a Pagar</span>
                            <span id="orderTotal">$0.00</span>
                        </div>
                    </div>

                    <!-- Customer Info -->
                    <div class="checkout-summary" style="margin-top: 24px;">
                        <h2>ðŸ‘¤ Datos de Contacto</h2>
                        <form id="customerForm">
                            <div class="form-group">
                                <label for="customerName">Nombre Completo</label>
                                <input type="text" id="customerName" required placeholder="Tu nombre">
                            </div>
                            <div class="form-group">
                                <label for="customerEmail">Correo ElectrÃ³nico</label>
                                <input type="email" id="customerEmail" required placeholder="tu@email.com">
                            </div>
                            <div class="form-group">
                                <label for="customerPhone">TelÃ©fono</label>
                                <input type="tel" id="customerPhone" required placeholder="+1 234 567 890">
                            </div>
                        </form>
                    </div>
                </div>

                <!-- Payment Methods -->
                <div class="checkout-payment">
                    <h2>ðŸ’³ MÃ©todo de Pago</h2>

                    <div class="payment-methods">
                        <!-- PayPal -->
                        <label class="payment-method" id="paypalMethod">
                            <input type="radio" name="paymentMethod" value="paypal">
                            <div class="payment-icon">
                                <svg viewBox="0 0 124 33" width="80" height="24">
                                    <path fill="#253B80"
                                        d="M46.211 13.696c-.325 2.189-1.926 2.189-3.481 2.189h-.883l.62-3.927c.038-.239.238-.413.479-.413h.406c1.057 0 2.057 0 2.573.602.308.361.402.895.286 1.549zm-.675-5.193h-5.858c-.332 0-.614.241-.666.569l-2.369 15.011c-.039.247.152.471.403.471h2.797c.333 0 .616-.241.667-.569l.64-4.051c.05-.328.334-.569.666-.569h1.538c3.197 0 5.042-1.548 5.524-4.617.217-1.342.009-2.396-.618-3.132-.69-.81-1.912-1.113-3.724-1.113z" />
                                    <path fill="#179BD7"
                                        d="M84.155 13.696c-.325 2.189-1.926 2.189-3.481 2.189h-.883l.62-3.927c.038-.239.238-.413.479-.413h.405c1.058 0 2.058 0 2.574.602.308.361.401.895.286 1.549zm-.676-5.193h-5.857c-.332 0-.614.241-.666.569l-2.369 15.011c-.039.247.152.471.403.471h3.016c.232 0 .43-.168.466-.396l.671-4.254c.051-.328.334-.569.666-.569h1.538c3.197 0 5.042-1.548 5.524-4.617.217-1.342.009-2.396-.618-3.132-.69-.81-1.911-1.113-3.724-1.113zM65.016 18.503c-.224 1.325-1.276 2.215-2.622 2.215-.675 0-1.216-.218-1.562-.628-.343-.408-.472-.989-.362-1.637.209-1.314 1.276-2.232 2.599-2.232.662 0 1.198.22 1.551.636.355.42.492 1.006.396 1.646zm3.229-5.122h-3.025c-.239 0-.442.175-.479.413l-.133.844-.211-.307c-.656-.95-2.116-1.268-3.574-1.268-3.343 0-6.2 2.533-6.756 6.086-.29 1.77.122 3.463 1.128 4.642.923 1.082 2.242 1.534 3.811 1.534 2.695 0 4.188-1.733 4.188-1.733l-.135.837c-.039.247.152.471.403.471h2.726c.332 0 .615-.241.666-.569l1.636-10.36c.039-.248-.152-.471-.402-.471z" />
                                    <path fill="#253B80"
                                        d="M27.016 18.503c-.224 1.325-1.276 2.215-2.622 2.215-.675 0-1.216-.218-1.562-.628-.343-.408-.472-.989-.362-1.637.209-1.314 1.276-2.232 2.599-2.232.662 0 1.198.22 1.551.636.355.42.492 1.006.396 1.646zm3.229-5.122h-3.025c-.239 0-.442.175-.479.413l-.133.844-.211-.307c-.656-.95-2.116-1.268-3.574-1.268-3.343 0-6.2 2.533-6.756 6.086-.29 1.77.122 3.463 1.128 4.642.923 1.082 2.242 1.534 3.811 1.534 2.695 0 4.188-1.733 4.188-1.733l-.135.837c-.039.247.152.471.403.471h2.726c.332 0 .615-.241.666-.569l1.636-10.36c.039-.248-.152-.471-.402-.471z" />
                                    <path fill="#179BD7"
                                        d="M94.892 8.916h-3.058c-.271 0-.523.138-.669.366l-3.862 5.686-1.637-5.466c-.104-.347-.422-.586-.786-.586h-3.005c-.305 0-.521.295-.421.584l3.084 9.049-2.901 4.093c-.209.295.008.705.368.705h3.053c.268 0 .518-.135.665-.358l9.309-13.435c.204-.295-.011-.705-.374-.705z" />
                                    <path fill="#253B80"
                                        d="M108.892 8.503h-5.858c-.332 0-.614.241-.666.569l-2.369 15.011c-.039.247.152.471.403.471h3.145c.232 0 .43-.168.466-.396l.676-4.154c.05-.328.334-.569.666-.569h1.537c3.198 0 5.043-1.548 5.525-4.617.217-1.342.009-2.396-.618-3.132-.69-.81-1.912-1.113-3.724-1.113l-.183-.07z" />
                                </svg>
                            </div>
                            <div class="payment-method-info">
                                <h4>PayPal</h4>
                                <p>Paga de forma segura con tu cuenta PayPal</p>
                            </div>
                        </label>

                        <!-- Credit Card -->
                        <label class="payment-method" id="cardMethod">
                            <input type="radio" name="paymentMethod" value="card" checked>
                            <div class="payment-icon">
                                <svg viewBox="0 0 48 48" width="40" height="28">
                                    <rect fill="#1565C0" x="0" y="9" width="48" height="30" rx="3" />
                                    <rect fill="#FFC107" x="29" y="14" width="14" height="20" rx="2" />
                                    <rect fill="#FF9800" x="5" y="14" width="14" height="20" rx="2" />
                                    <circle fill="#FF5722" cx="19" cy="24" r="7" />
                                    <circle fill="#FFC107" cx="29" cy="24" r="7" opacity="0.8" />
                                </svg>
                            </div>
                            <div class="payment-method-info">
                                <h4>Tarjeta de CrÃ©dito/DÃ©bito</h4>
                                <p>Visa, Mastercard, American Express</p>
                            </div>
                        </label>
                    </div>

                    <!-- Card Form -->
                    <div class="card-form active" id="cardForm">
                        <div class="card-icons">
                            <svg viewBox="0 0 48 32" width="48" height="32">
                                <rect fill="#1A1F71" width="48" height="32" rx="4" />
                                <text x="24" y="21" fill="#fff" font-family="Arial" font-size="10" font-weight="bold"
                                    text-anchor="middle">VISA</text>
                            </svg>
                            <svg viewBox="0 0 48 32" width="48" height="32">
                                <rect fill="#EB001B" width="48" height="32" rx="4" />
                                <circle cx="18" cy="16" r="10" fill="#EB001B" />
                                <circle cx="30" cy="16" r="10" fill="#F79E1B" />
                                <path d="M24 8.5a10 10 0 0 0 0 15" fill="#FF5F00" />
                            </svg>
                        </div>
                        <div class="form-group">
                            <label for="cardNumber">NÃºmero de Tarjeta</label>
                            <input type="text" id="cardNumber" placeholder="1234 5678 9012 3456" maxlength="19">
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="cardExpiry">Fecha de ExpiraciÃ³n</label>
                                <input type="text" id="cardExpiry" placeholder="MM/AA" maxlength="5">
                            </div>
                            <div class="form-group">
                                <label for="cardCvv">CVV</label>
                                <input type="text" id="cardCvv" placeholder="123" maxlength="4">
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="cardName">Nombre en la Tarjeta</label>
                            <input type="text" id="cardName" placeholder="NOMBRE APELLIDO">
                        </div>
                    </div>

                    <!-- PayPal Info -->
                    <div class="paypal-info" id="paypalInfo" style="display: none;">
                        <div class="paypal-message">
                            <p>SerÃ¡s redirigido a PayPal para completar tu pago de forma segura.</p>
                        </div>
                    </div>

                    <!-- Pay Button -->
                    <button class="btn btn-primary btn-full" id="btnPay">
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                            <line x1="1" y1="10" x2="23" y2="10"></line>
                        </svg>
                        Pagar Ahora
                    </button>

                    <div class="checkout-security">
                        <p>ðŸ”’ Pago 100% seguro. Tus datos estÃ¡n protegidos.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Success Modal -->
    <div class="modal" id="successModal">
        <div class="modal-content modal-small">
            <div class="modal-success">
                <div class="success-icon">âœ“</div>
                <h2>Â¡Pago Exitoso!</h2>
                <p>Tu pedido ha sido procesado correctamente.</p>
                <p class="order-id">Pedido #<span id="orderNumber">VEC-2024-001</span></p>
                <p>Te enviaremos un correo con los detalles.</p>
                <a href="index.html" class="btn btn-primary btn-full">Volver al Inicio</a>
            </div>
        </div>
    </div>

    <style>
        .checkout-main {
            display: flex;
            flex-direction: column;
        }

        .checkout-security {
            text-align: center;
            margin-top: 16px;
            color: var(--gray-600);
            font-size: 0.85rem;
        }

        .paypal-message {
            padding: 24px;
            background: rgba(0, 48, 135, 0.05);
            border: 1px solid rgba(0, 48, 135, 0.2);
            border-radius: var(--radius-md);
            margin-bottom: 24px;
            text-align: center;
        }

        .modal-success {
            padding: 48px 32px;
            text-align: center;
        }

        .success-icon {
            width: 80px;
            height: 80px;
            background: linear-gradient(135deg, #4ade80, #22c55e);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2.5rem;
            color: white;
            margin: 0 auto 24px;
            animation: popIn 0.5s ease;
        }

        @keyframes popIn {
            0% {
                transform: scale(0);
            }

            80% {
                transform: scale(1.1);
            }

            100% {
                transform: scale(1);
            }
        }

        .modal-success h2 {
            font-size: 1.5rem;
            color: var(--dark);
            margin-bottom: 12px;
        }

        .modal-success p {
            color: var(--gray-600);
            margin-bottom: 8px;
        }

        .order-id {
            font-weight: 600;
            color: var(--primary) !important;
            font-size: 1.1rem;
            margin: 16px 0 !important;
        }

        .modal-success .btn {
            margin-top: 24px;
        }
    </style>

    <script>
        // ===================================
        // Checkout Logic
        // ===================================
        const paymentMethods = document.querySelectorAll('.payment-method');
        const cardForm = document.getElementById('cardForm');
        const paypalInfo = document.getElementById('paypalInfo');
        const btnPay = document.getElementById('btnPay');
        const successModal = document.getElementById('successModal');

        // Get order from URL or use demo
        const urlParams = new URLSearchParams(window.location.search);
        const productParam = urlParams.get('product');
        const priceParam = urlParams.get('price');

        // Demo order items
        let orderItems = [];

        if (productParam && priceParam) {
            orderItems = [{
                name: decodeURIComponent(productParam),
                price: parseFloat(priceParam)
            }];
        } else {
            // Demo order
            orderItems = [
                { name: 'DiseÃ±o de Logo - Premium', price: 500 },
                { name: 'Tarjetas de PresentaciÃ³n (500 und)', price: 75 }
            ];
        }

        // Render order items
        function renderOrderItems() {
            const container = document.getElementById('orderItems');
            let total = 0;

            container.innerHTML = orderItems.map(item => {
                total += item.price;
                return `
                    <div class="summary-item">
                        <span>${item.name}</span>
                        <span>$${item.price.toFixed(2)}</span>
                    </div>
                `;
            }).join('');

            document.getElementById('orderTotal').textContent = `$${total.toFixed(2)}`;
        }

        renderOrderItems();

        // Payment method selection
        paymentMethods.forEach(method => {
            method.addEventListener('click', () => {
                paymentMethods.forEach(m => m.classList.remove('selected'));
                method.classList.add('selected');

                const value = method.querySelector('input').value;
                method.querySelector('input').checked = true;

                if (value === 'card') {
                    cardForm.classList.add('active');
                    paypalInfo.style.display = 'none';
                    btnPay.innerHTML = `
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                            <line x1="1" y1="10" x2="23" y2="10"></line>
                        </svg>
                        Pagar con Tarjeta
                    `;
                } else {
                    cardForm.classList.remove('active');
                    paypalInfo.style.display = 'block';
                    btnPay.innerHTML = `
                        <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M22 2L11 13M22 2l-7 20-4-9-9-4 20-7z"/>
                        </svg>
                        Continuar con PayPal
                    `;
                }
            });
        });

        // Initialize first selection
        document.getElementById('cardMethod').classList.add('selected');

        // Card number formatting
        const cardNumber = document.getElementById('cardNumber');
        cardNumber.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\s/g, '').replace(/\D/g, '');
            let formatted = value.match(/.{1,4}/g)?.join(' ') || '';
            e.target.value = formatted;
        });

        // Expiry formatting
        const cardExpiry = document.getElementById('cardExpiry');
        cardExpiry.addEventListener('input', (e) => {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length >= 2) {
                value = value.substring(0, 2) + '/' + value.substring(2);
            }
            e.target.value = value;
        });

        // Pay button
        btnPay.addEventListener('click', () => {
            const name = document.getElementById('customerName').value;
            const email = document.getElementById('customerEmail').value;
            const phone = document.getElementById('customerPhone').value;

            if (!name || !email || !phone) {
                alert('Por favor, completa todos los datos de contacto.');
                return;
            }

            const selectedMethod = document.querySelector('input[name="paymentMethod"]:checked').value;

            if (selectedMethod === 'card') {
                const cardNum = document.getElementById('cardNumber').value;
                const cardExp = document.getElementById('cardExpiry').value;
                const cardCvv = document.getElementById('cardCvv').value;
                const cardName = document.getElementById('cardName').value;

                if (!cardNum || !cardExp || !cardCvv || !cardName) {
                    alert('Por favor, completa todos los datos de la tarjeta.');
                    return;
                }
            }

            // Simulate payment processing
            btnPay.innerHTML = '<span>Procesando...</span>';
            btnPay.disabled = true;

            setTimeout(() => {
                // Generate order number
                const orderNum = 'VEC-' + new Date().getFullYear() + '-' + String(Math.floor(Math.random() * 9999)).padStart(4, '0');
                document.getElementById('orderNumber').textContent = orderNum;

                // Show success modal
                successModal.classList.add('active');

                btnPay.innerHTML = `
                    <svg viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="1" y="4" width="22" height="16" rx="2" ry="2"></rect>
                        <line x1="1" y1="10" x2="23" y2="10"></line>
                    </svg>
                    Pagar Ahora
                `;
                btnPay.disabled = false;
            }, 2000);
        });
    </script>
</body>

</html>